<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/base}"
      th:with="headerType='guest'">
<section layout:fragment="content" class="container mx-auto p-4">
    <div class="max-w-3xl mx-auto">
        <div class="bg-white rounded-lg overflow-hidden shadow-lg">
            <div class="bg-red-600 text-white px-4 py-3 flex items-center justify-between">
                <h3 class="text-xl font-semibold">Ha ocurrido un error</h3>
                <span th:if="${status}" class="bg-red-700 text-white px-2 py-1 rounded text-sm" th:text="${status}">500</span>
            </div>
            <div class="p-6">
                <!-- Mensaje de error principal -->
                <div class="mb-4 p-4 bg-red-50 border-l-4 border-red-500 text-red-700">
                    <p class="font-medium" th:if="${error}" th:text="${error}">Mensaje de error específico</p>
                    <p class="font-medium" th:unless="${error}">Lo sentimos, ha ocurrido un error inesperado.</p>
                </div>
                
                <!-- Detalles técnicos (solo si están disponibles) -->
                <div th:if="${exception != null || trace != null}" class="mb-4 mt-6">
                    <details class="cursor-pointer">
                        <summary class="text-gray-700 font-medium mb-2">Detalles técnicos</summary>
                        <div class="p-3 bg-gray-100 rounded text-sm font-mono overflow-x-auto">
                            <p th:if="${exception}" class="mb-2">
                                <span class="font-semibold">Excepción:</span> 
                                <span th:text="${exception}">NullPointerException</span>
                            </p>
                            <p th:if="${message}" class="mb-2">
                                <span class="font-semibold">Mensaje:</span> 
                                <span th:text="${message}">Mensaje de la excepción</span>
                            </p>
                            <pre th:if="${trace}" class="whitespace-pre-wrap text-xs mt-2" th:text="${trace}">Stack trace</pre>
                        </div>
                    </details>
                </div>
                
                <hr class="my-4 border-gray-200"/>
                <div class="flex justify-between">
                    <a href="/inicio" class="inline-block px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition">
                        <i class="bi bi-house-door mr-1"></i>Volver al inicio
                    </a>
                    <a href="javascript:history.back()" class="inline-block px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600 transition">
                        <i class="bi bi-arrow-left mr-1"></i>Volver atrás
                    </a>
                </div>
            </div>
        </div>
    </div>
</section>
</html>
